# web-files (웹 파일 시스템 애플리케이션)

웹 기반 파일 관리 애플리케이션

- **Frontend**: React (Vite) + MUI
- **Backend**: Node.js (Express)
- **DB**: MySQL
- **File Upload**: Multer

---

## 📦 주요 기능

### 📁 디렉토리 관리

- [ ] 디렉토리 조회
  - [ ] 디렉토리 ID를 입력하면 해당 하위 디렉토리 및 파일 리스트 반환
  - [ ] 디렉토리 ID 없이 요청 시 루트 디렉토리 반환
  - [ ] 정렬 방식 제공 (이름순, 생성일자순 / 오름차순, 내림차순)
  - [ ] 관리자: 삭제된 디렉토리까지 포함해서 조회 가능
- [ ] 디렉토리 추가
  - [ ] parentId 필수, 해당 부모 하위에 디렉토리 생성
- [ ] 디렉토리 삭제
  - [ ] DB에서 실제 삭제하지 않고 삭제 플래그(true)로 표시
- [ ] 디렉토리 이름 변경
  - [ ] id와 name을 받아 이름 수정
- [ ] 디렉토리 위치 변경
  - [ ] id와 parentId를 받아 위치 이동

### 🖼️ 이미지 업로드 및 관리

- [ ] 이미지 업로드
  - [ ] 특정 디렉토리에 업로드 (id 필수)
  - [ ] 이미지 확장자만 허용 (예: jpg, png, gif 등)
  - [ ] 동일 이름의 파일 존재 시 자동 이름 변경
- [ ] 이미지 조회
  - [ ] 썸네일 요청 여부에 따라 원본/썸네일 이미지 반환
  - [ ] 썸네일 변환용 라이브러리(minify 등) 사용
- [ ] 이미지 삭제
  - [ ] 특정 이미지 파일 삭제 처리 (DB 삭제 플래그 적용 가능)

### 🔽 파일 다운로드 기능

- [ ] 단일 파일 다운로드
- [ ] 디렉토리 전체 압축 다운로드 (선택 기능)

### 🧾 사용자 인증 및 권한

- [x] 로그인/로그아웃 (JWT, Cookie 기반)
- [ ] 사용자 정보는 모든 디렉토리 및 파일 생성 시 함께 기록
- [ ] 관리자 권한은 삭제된 디렉토리/파일 포함 조회 가능

### 🖱️ 프론트엔드 UI 기능 (React 기반)

- [ ] 디렉토리 구조 탐색기 UI (Windows 탐색기 유사)
- [ ] 드래그 앤 드롭을 통한 이동
- [ ] 다중 파일 선택, 업로드/삭제
- [ ] 썸네일, 리스트 뷰 전환 UI

### ⚙️ 시스템/서버 기능

- [ ] 파일명 자동 변경 정책 (`filename(1).jpg` 등)
- [ ] 삭제된 파일/디렉토리는 별도 trash 경로로 이동
- [ ] 일정 기간 후 실제 삭제 처리 (cron 스크립트 등)
- [ ] API 에러 응답은 통일된 포맷(JSON)
- [ ] 주요 액션 로그 기록 (파일 삭제, 이동 등)

### 🧪 추가 고려 사항

- [ ] 파일 생성일자와 수정일자 구분 가능 여부
- [ ] 파일 버전 관리 기능 (선택 기능)
- [ ] 관리자 권한 처리 방식 (토글 가능하도록 구현)
- [ ] 동영상 스트리밍 기능

---

## 🗂️ 프로젝트 디렉토리 구조 (예정)

```
web-files/
├── backend/               # Express 서버
│   ├── config/            # 설정 파일 (DB 등)
│   ├── controllers/
│   ├── middlewares/
│   └── routes/
├── frontend/               # React 앱
└── README.md
```

---

## 📌 실행 방법 (예정)

```bash
# 1. 클라이언트 실행
cd client
npm install
npm run dev

# 2. 서버 실행
cd server
npm install
npm run dev
```

---

## ✅ 개발 및 유지보수 참고 사항

- 사용자 인증 기능 없이 시작했다가 후에 추가 가능하도록 유연한 구조 설계
- 삭제 시 실제 삭제하지 않고 soft-delete 방식 사용 (유지보수 및 복구 용이)
- 모든 파일 및 디렉토리에 작성자 정보, 생성일, 삭제 여부 저장
- 에러 처리 및 응답 포맷은 클라이언트-서버 간 통일 필요

---

## 🙋‍♂️ 협업 시 체크리스트

- 기능 개발 전 이슈/기획 문서에 상세 정의
- API 문서(Swagger 등) 별도 관리 예정
- 디렉토리와 파일 구조 변경 시 반드시 DB 구조도 함께 문서화

---

문의나 개선 제안은 Issue 또는 Pull Request로 남겨주세요.
